diff -up hplip-3.14.4/base/utils.py.codec hplip-3.14.4/base/utils.py
--- hplip-3.14.4/base/utils.py.codec	2014-04-16 11:30:46.409807494 +0100
+++ hplip-3.14.4/base/utils.py	2014-04-16 11:31:43.947158693 +0100
@@ -463,7 +463,7 @@ def sort_dict_by_value(d):
 
 
 def commafy(val):
-    return locale.format("%d", val, grouping=True).decode(locale.getpreferredencoding())
+    return locale.format("%d", val, grouping=True).decode(locale.getlocale(locale.LC_NUMERIC)[1])
 
 
 def format_bytes(s, show_bytes=False):
