--- lightspark-0.4.4.2/CMakeLists.txt.orig	2010-09-11 16:34:25.000000000 -0300
+++ lightspark-0.4.4.2/CMakeLists.txt	2010-09-12 11:54:33.845397571 -0300
@@ -310,7 +310,7 @@
   ADD_LIBRARY(spark STATIC ${LIBSPARK_SOURCES})
 ENDIF (CMAKE_COMPILER_IS_GNUCC)
 
-TARGET_LINK_LIBRARIES(spark ${EXTRA_LIBS_LIBRARIES} ${ZLIB_LIBRARIES} ${Boost_LIBRARIES} ${LLVM_LIBS_CORE} ${LLVM_LIBS_JIT} ${SDL_LIBRARY} ${OPTIONAL_LIBRARIES} ${GTK_LIBRARIES} ${FREETYPE_LIBRARIES} ${OPENGL_LIBRARIES} ${FTGL_LIBRARIES} ${GLEW_LIBRARIES} ${PCRECPP_LIBRARIES} ${Threads_LIBRARIES})
+TARGET_LINK_LIBRARIES(spark ${CMAKE_MODULE_LINKER_FLAGS} ${EXTRA_LIBS_LIBRARIES} ${ZLIB_LIBRARIES} ${Boost_LIBRARIES} ${LLVM_LIBS_CORE} ${LLVM_LIBS_JIT} ${SDL_LIBRARY} ${OPTIONAL_LIBRARIES} ${GTK_LIBRARIES} ${FREETYPE_LIBRARIES} ${OPENGL_LIBRARIES} ${FTGL_LIBRARIES} ${GLEW_LIBRARIES} ${PCRECPP_LIBRARIES} ${Threads_LIBRARIES})
 SET_TARGET_PROPERTIES(spark PROPERTIES VERSION "${MAJOR_VERSION}.${MINOR_VERSION}.${PATCH_VERSION}")
 SET_TARGET_PROPERTIES(spark PROPERTIES SOVERSION "${MAJOR_VERSION}.${MINOR_VERSION}")
 
@@ -322,7 +322,7 @@
 IF(COMPILE_LIGHTSPARK)
   ADD_EXECUTABLE(lightspark main.cpp)
   TARGET_LINK_LIBRARIES(lightspark spark)
-  TARGET_LINK_LIBRARIES(lightspark ${SDL_LIBRARY} ${Boost_LIBRARIES})
+  TARGET_LINK_LIBRARIES(lightspark ${SDL_LIBRARY} ${CMAKE_MODULE_LINKER_FLAGS} ${Boost_LIBRARIES})
 
   IF(UNIX)
     INSTALL(FILES ${CMAKE_CURRENT_SOURCE_DIR}/lightspark.frag DESTINATION ${DATADIR}/lightspark)
@@ -336,7 +336,7 @@
 IF(COMPILE_TIGHTSPARK)
   ADD_EXECUTABLE(tightspark tightspark.cpp)
   TARGET_LINK_LIBRARIES(tightspark spark)
-  TARGET_LINK_LIBRARIES(tightspark ${Boost_LIBRARIES})
+  TARGET_LINK_LIBRARIES(tightspark ${CMAKE_MODULE_LINKER_FLAGS} ${Boost_LIBRARIES})
 
   IF(UNIX)
     INSTALL(TARGETS tightspark RUNTIME DESTINATION ${BINDIR})
